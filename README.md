<details>
  <summary> Кейс 1</summary>

На игровом проекте компании в начале прошлого месяца была проведена монетизационная акция. Она длилась 3 дня.
В рамках акции, игрокам предлагалось купить игровые ресурсы по более выгодным, чем обычно, ценам.
При этом стоимость акционного предложения была выше среднего чека по проекту. Перед Вами стоит задача провести анализ этой акции.
</details>


Анализ данных будет включать в себя несколько основных этапов:

1. Сбор данных
2. Очистка данных и быстрый анализ
3. Расчет основных показателей и метрик
4. Визуализация данных


## 1. Сбор данных
Данные в базе, скорее всего, хранятся по типу ивента, поэтому выгрузку будем производить поэтапно.
Можно через СУБД запросить селектом нужные таблицы, загрузить и затем уже обращаться к ним через Python.
А можно, напрямую загружать данные через API, например. Лучше выбирать второй способ, так как настроив
загрузку один раз, можно автоматизировать процесс, избежать лишних трудозатрат и ошибок, связанных с человеческим фактором.

Для анализа нам могут понадобиться:
* Транзакционные данные (id пользователя, дата транзакции, число покупок, например, за день,
   тип покупки (обычная/акционная покупка);
* Данные о пользователях (возраст аккаунта, регион/страна);
* Активности игроков (дата сессии, длительность сессии, уровень в игре);
* Данные отслеживания поведения (например, клики на предложение, взаимодействие с магазином).


## 2. Очистка данных
Далее обязательным этапом будет знакомство с данными и их очистка. Библиотека **Pandas Python** обладает широкими возможностями для работы с датафреймами.
Поэтому для корректной обработки можно сначала преобразовать таблицы в датафреймы:
* Преобразуем данные в датафрейм (`pd.DataFrame()`)
* Удаляем дубликаты (`df.drop_dublicates()`)
* Проверяем, есть ли пропуски и заполняем их (`df.isnull().sum()`, `df.fillna(0)`), либо удаляем пропущенные значения, в зависимости от задчи
* Проверяем формат колонок и, если нужно, преобразуем str дату в формат даты (`df.dtypes, pd.to_datetime(df[date'])`)
* Проверяем ошибки в данных, например, `amount < 0`
* Оцениваем выбросы, можно, например посмотреть аномально большие суммы покупок

После очистки можно провести быстрый анализ, посчитать, например, количество покупок по дням, посмотреть, есть ли киты и сколько их,
сгруппировав покупки по юзерам, можно посмотреть распределение покупок, используя метод `.hist(bins=50)`.


## 3. Расчет метрик
Здесь хотелось бы отметить один момент насчет сегментации пользователей. Я бы сначала посмотрела динамику основных показателей в общем, по всем пользователям,
а затем перешла бы к сегментации для более глубокого анализа. Расчет базовых показателей поможет понять, была ли акция вообще успешной.

Можно рассчитать:
* Выручку (общую, в динамике по дням);
* Средний чек;
* Конверсию в покупку;
* Retention;
* Число платежей;
* Баланс хард валюты (внутриигровой).

